{"remainingRequest":"C:\\Users\\YKB\\Desktop\\github\\manage-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\YKB\\Desktop\\github\\manage-web\\src\\store\\module\\user.js","dependencies":[{"path":"C:\\Users\\YKB\\Desktop\\github\\manage-web\\src\\store\\module\\user.js","mtime":1562898218000},{"path":"C:\\Users\\YKB\\Desktop\\github\\manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\YKB\\Desktop\\github\\manage-web\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import { setToken, getToken } from '@/libs/util';\nimport { post } from '@/libs/axios-cfg';\nimport { errorHandler } from '@/libs/iview-cfg';\nexport default {\n  state: {\n    userName: '',\n    userId: '',\n    avatorImgPath: '',\n    token: getToken(),\n    access: ''\n  },\n  mutations: {\n    setAvator(state, avatorPath) {\n      state.avatorImgPath = avatorPath;\n    },\n\n    setUserId(state, id) {\n      state.userId = id;\n    },\n\n    setUserName(state, name) {\n      state.userName = name;\n    },\n\n    setAccess(state, access) {\n      state.access = access;\n    },\n\n    setToken(state, token) {\n      state.token = token;\n      setToken(token);\n    }\n\n  },\n  actions: {\n    // 退出登录\n    handleLogOut({\n      state,\n      commit\n    }) {\n      commit('setToken', '');\n      commit('setAccess', []);\n      localStorage.clear();\n    },\n\n    // 获取用户相关信息\n    async getUserInfo({\n      state,\n      commit\n    }) {\n      try {\n        let res = await post('/account/all-permission-tag');\n        commit('setAccess', res.data);\n        return {\n          access: res.data\n        };\n      } catch (error) {\n        errorHandler(error);\n      }\n    }\n\n  }\n};",{"version":3,"sources":["C:\\Users\\YKB\\Desktop\\github\\manage-web\\src\\store\\module\\user.js"],"names":["setToken","getToken","post","errorHandler","state","userName","userId","avatorImgPath","token","access","mutations","setAvator","avatorPath","setUserId","id","setUserName","name","setAccess","actions","handleLogOut","commit","localStorage","clear","getUserInfo","res","data","error"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,QAAnB,QAAmC,aAAnC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAAQC,YAAR,QAA2B,kBAA3B;AACA,eAAe;AACbC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE,EADL;AAELC,IAAAA,MAAM,EAAE,EAFH;AAGLC,IAAAA,aAAa,EAAE,EAHV;AAILC,IAAAA,KAAK,EAAEP,QAAQ,EAJV;AAKLQ,IAAAA,MAAM,EAAE;AALH,GADM;AAQbC,EAAAA,SAAS,EAAE;AACTC,IAAAA,SAAS,CAAEP,KAAF,EAASQ,UAAT,EAAqB;AAC5BR,MAAAA,KAAK,CAACG,aAAN,GAAsBK,UAAtB;AACD,KAHQ;;AAITC,IAAAA,SAAS,CAAET,KAAF,EAASU,EAAT,EAAa;AACpBV,MAAAA,KAAK,CAACE,MAAN,GAAeQ,EAAf;AACD,KANQ;;AAOTC,IAAAA,WAAW,CAAEX,KAAF,EAASY,IAAT,EAAe;AACxBZ,MAAAA,KAAK,CAACC,QAAN,GAAiBW,IAAjB;AACD,KATQ;;AAUTC,IAAAA,SAAS,CAAEb,KAAF,EAASK,MAAT,EAAiB;AACxBL,MAAAA,KAAK,CAACK,MAAN,GAAeA,MAAf;AACD,KAZQ;;AAaTT,IAAAA,QAAQ,CAAEI,KAAF,EAASI,KAAT,EAAgB;AACtBJ,MAAAA,KAAK,CAACI,KAAN,GAAcA,KAAd;AACAR,MAAAA,QAAQ,CAACQ,KAAD,CAAR;AACD;;AAhBQ,GARE;AA0BZU,EAAAA,OAAO,EAAE;AACR;AACAC,IAAAA,YAAY,CAAE;AAAEf,MAAAA,KAAF;AAASgB,MAAAA;AAAT,KAAF,EAAqB;AAC/BA,MAAAA,MAAM,CAAC,UAAD,EAAa,EAAb,CAAN;AACAA,MAAAA,MAAM,CAAC,WAAD,EAAc,EAAd,CAAN;AACAC,MAAAA,YAAY,CAACC,KAAb;AACD,KANO;;AAOR;AACA,UAAMC,WAAN,CAAmB;AAAEnB,MAAAA,KAAF;AAASgB,MAAAA;AAAT,KAAnB,EAAsC;AACpC,UAAI;AACA,YAAII,GAAG,GAAG,MAAMtB,IAAI,CAAC,6BAAD,CAApB;AACAkB,QAAAA,MAAM,CAAC,WAAD,EAAcI,GAAG,CAACC,IAAlB,CAAN;AACA,eAAO;AAAChB,UAAAA,MAAM,EAACe,GAAG,CAACC;AAAZ,SAAP;AACH,OAJD,CAIE,OAAOC,KAAP,EAAc;AACdvB,QAAAA,YAAY,CAACuB,KAAD,CAAZ;AACD;AACF;;AAhBO;AA1BG,CAAf","sourcesContent":["import { setToken, getToken } from '@/libs/util'\r\nimport { post } from '@/libs/axios-cfg'\r\nimport {errorHandler} from '@/libs/iview-cfg'\r\nexport default {\r\n  state: {\r\n    userName: '',\r\n    userId: '',\r\n    avatorImgPath: '',\r\n    token: getToken(),\r\n    access: ''\r\n  },\r\n  mutations: {\r\n    setAvator (state, avatorPath) {\r\n      state.avatorImgPath = avatorPath\r\n    },\r\n    setUserId (state, id) {\r\n      state.userId = id\r\n    },\r\n    setUserName (state, name) {\r\n      state.userName = name\r\n    },\r\n    setAccess (state, access) {\r\n      state.access = access\r\n    },\r\n    setToken (state, token) {\r\n      state.token = token\r\n      setToken(token)\r\n    }\r\n  },\r\n   actions: {\r\n    // 退出登录\r\n    handleLogOut ({ state, commit }) {\r\n      commit('setToken', '')\r\n      commit('setAccess', [])\r\n      localStorage.clear()\r\n    },\r\n    // 获取用户相关信息\r\n    async getUserInfo ({ state, commit }) {\r\n      try {\r\n          let res = await post('/account/all-permission-tag')\r\n          commit('setAccess', res.data)\r\n          return {access:res.data}\r\n      } catch (error) {\r\n        errorHandler(error)\r\n      }\r\n    }\r\n  } \r\n}\r\n"]}]}